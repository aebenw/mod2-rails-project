
<body id='grad'>





<div id="map-container" >

<div id="map" ></div>
<br>

<div id="out"></div><br><hr>
</div>

<div class="pads">

<% if @place.img_url %>
<img src=<%= url_for(@place.img_url) %></br>
<% end %>

<!-- Good place for a joke image, if none was uploaded -->


<h2><%= @place.name %></h2>
<h3>Average User Rating: <%= @place.average_rating %></h3>
<% if @place.desc %>
<h3><%= @place.desc %></h3>
<% end %>

<% if !(MakePlace.find_by(user_id: session[:user_id], place_id: @place.id)) %>
<p><%= button_to "Add Place to Profile", add_up_path(@place.id)  %>
<% else %>
</p>
Number of User Adds <%= @place.popularity %>
<% end %>

</div>

<script>

function initMap(){

    var options = {
        zoom:12.5,
        center: {lat:40.7128, lng: -74.0060}
    };


    var map = new google.maps.Map(document.getElementById('map'), options);

    var marker = new google.maps.Marker({
        position: {lat:40.7128, lng:-74.0060},
        map: map
    });

    var markers = [];

    for(var i = 0; i < markers.length; i++ ){
    addMarker(markers[i]);
    }

        function addMarker(coords){
        var lats = document.getElementsByClassName('lat-div');
        var lngs = document.getElementsByClassName('lng-div');

        for(var i = 0; i < lats.length;i++){


               markers.push({lat: lats[i].value, lng: lngs[i].value})


        }


        var marker = new google.maps.Marker({
                    position: coords,
                    map: map
                });


}






   }
















</script>



<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBPdhJ7Z6pwRpxtlHG4aYSf2T7XivLBpiY&callback=initMap">
</script>
